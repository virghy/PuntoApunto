*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ¡¡ATENCIÓN!! - ¡¡NO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="ts_valores.scx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
DEFINE CLASS dataenvironment AS dataenvironment 
 	*< CLASSDATA: Baseclass="dataenvironment" Timestamp="" Scale="" Uniqueid="" ClassIcon="2" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Cursor1" UniqueID="" Timestamp="" />

	DataSource = .NULL.
	Height = 426
	Left = 160
	Name = "Dataenvironment"
	Top = 97
	Width = 520

	ADD OBJECT 'Cursor1' AS cursor WITH ;
		Alias = "vvalores", ;
		CursorSource = "ts_valores", ;
		Database = ..\data\datos.dbc, ;
		Height = 201, ;
		Left = 11, ;
		Name = "Cursor1", ;
		Top = 19, ;
		Width = 201
		*< END OBJECT: BaseClass="cursor" />

ENDDEFINE

DEFINE CLASS tsmaintform12 AS tsmovform OF "..\libs\tsbase.vcx" 
 	*< CLASSDATA: Baseclass="form" Timestamp="" Scale="" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Ts3dshape3" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Ts3dshape2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Ts3dshape1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtNrocheque" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblNrocheque" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtFchemision" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblFchemision" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtFchcheque" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblFchcheque" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtIdtitular" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblIdtitular" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtNombre" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblNombre" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtImporte" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblImporte" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.txtConcepto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblConcepto" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblIdestado" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.lblIdbanco" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Banco" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.estado" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Tslabel1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Moneda" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.Tslabel2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Pageframe1.Page1.cbValores" UniqueID="" Timestamp="" />

	campos = idvalor,idempresa
	Caption = "Entrada de Valores"
	DataSession = 2
	DoCreate = .T.
	Height = 286
	identidad = IdValor
	Name = "Tsmaintform12"
	tabla1 = vValores
	tablaconsulta = Valores
	valores = newid( idvalor ),oapp.empresa
	Width = 565
	lblRequerido.Name = "lblRequerido"
	Pageframe1.ErasePage = .T.
	Pageframe1.Height = 288
	Pageframe1.Left = 0
	Pageframe1.Name = "Pageframe1"
	Pageframe1.Page1.Name = "Page1"
	Pageframe1.Page2.grdList.Name = "grdList"
	Pageframe1.Page2.Name = "Page2"
	Pageframe1.TabIndex = 1
	Pageframe1.Top = 0
	Pageframe1.Width = 567

	ADD OBJECT 'Pageframe1.Page1.Banco' AS tscombobox WITH ;
		BoundColumn = 2, ;
		cmdsql = select descripcion, convert(char(10),idbanco) as IdBanco from bs_bancos, ;
		ColumnCount = 2, ;
		ColumnWidths = "150,45", ;
		ControlSource = "vvalores.Idbanco", ;
		cursor = cBancos, ;
		editable = .T., ;
		FirstElement = 1, ;
		Height = 22, ;
		Left = 107, ;
		mensajevalidacion = Ingrese el Banco, ;
		Name = "Banco", ;
		NumberOfElements = 0, ;
		RowSourceType = 2, ;
		Style = 2, ;
		TabIndex = 6, ;
		Top = 46, ;
		Width = 180, ;
		ZOrderSet = 19
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="combobox" />

	ADD OBJECT 'Pageframe1.Page1.cbValores' AS tscombobox WITH ;
		BoundColumn = 2, ;
		cmdsql = select  tipovalor,convert(char(10),idtipovalor) from ts_tipovalor where isnull(fiscal,0)=0, ;
		ColumnCount = 2, ;
		ColumnWidths = "150,45", ;
		ControlSource = "vvalores.idtipovalor", ;
		cursor = cValores, ;
		editable = .T., ;
		Height = 22, ;
		Left = 107, ;
		Name = "cbValores", ;
		RowSourceType = 3, ;
		Style = 2, ;
		Top = 22, ;
		Width = 180, ;
		ZOrderSet = 24
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="combobox" />

	ADD OBJECT 'Pageframe1.Page1.estado' AS tscombobox WITH ;
		BoundColumn = 2, ;
		cmdsql = select estado_cheque,idestado from ts_estado_cheque, ;
		ColumnCount = 2, ;
		ColumnWidths = "150,45", ;
		ControlSource = "vvalores.idestado", ;
		cursor = cEstadoCheque, ;
		editable = .F., ;
		Enabled = .F., ;
		FirstElement = 1, ;
		Height = 22, ;
		Left = 359, ;
		Name = "estado", ;
		NumberOfElements = 0, ;
		RowSourceType = 3, ;
		Style = 2, ;
		TabIndex = 22, ;
		Top = 214, ;
		Width = 180, ;
		ZOrderSet = 20
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="combobox" />

	ADD OBJECT 'Pageframe1.Page1.lblConcepto' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Concepto", ;
		Height = 16, ;
		Left = 298, ;
		Name = "lblConcepto", ;
		TabIndex = 19, ;
		Top = 191, ;
		Width = 55, ;
		ZOrderSet = 16
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblFchcheque' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Fecha de Cobro", ;
		Height = 16, ;
		Left = 14, ;
		Name = "lblFchcheque", ;
		TabIndex = 13, ;
		Top = 130, ;
		Width = 88, ;
		ZOrderSet = 8
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblFchemision' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Fecha Emisión", ;
		Height = 16, ;
		Left = 21, ;
		Name = "lblFchemision", ;
		TabIndex = 9, ;
		Top = 106, ;
		Width = 81, ;
		ZOrderSet = 6
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblIdbanco' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Banco", ;
		Height = 16, ;
		Left = 67, ;
		Name = "lblIdbanco", ;
		TabIndex = 5, ;
		Top = 46, ;
		Width = 35, ;
		ZOrderSet = 18
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblIdestado' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Estado", ;
		Height = 16, ;
		Left = 314, ;
		Name = "lblIdestado", ;
		TabIndex = 21, ;
		Top = 215, ;
		Width = 39, ;
		ZOrderSet = 17
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblIdtitular' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Titular", ;
		Height = 16, ;
		Left = 316, ;
		Name = "lblIdtitular", ;
		TabIndex = 11, ;
		Top = 106, ;
		Width = 37, ;
		ZOrderSet = 10
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblImporte' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Importe", ;
		Height = 12, ;
		Left = 56, ;
		Name = "lblImporte", ;
		TabIndex = 17, ;
		Top = 191, ;
		Width = 46, ;
		ZOrderSet = 14
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblNombre' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Nombre", ;
		Height = 16, ;
		Left = 307, ;
		Name = "lblNombre", ;
		TabIndex = 15, ;
		Top = 130, ;
		Width = 46, ;
		ZOrderSet = 12
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.lblNrocheque' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Nro Cheque", ;
		Height = 16, ;
		Left = 289, ;
		Name = "lblNrocheque", ;
		TabIndex = 7, ;
		Top = 46, ;
		Width = 67, ;
		ZOrderSet = 4
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.Moneda' AS tscombobox WITH ;
		BoundColumn = 2, ;
		cmdsql = select descripcion,idmoneda from bs_monedas, ;
		ColumnCount = 2, ;
		ColumnWidths = "100,50", ;
		ControlSource = "vvalores.idmoneda", ;
		cursor = cMonedas, ;
		editable = .T., ;
		FirstElement = 1, ;
		Height = 22, ;
		Left = 359, ;
		Name = "Moneda", ;
		NumberOfElements = 0, ;
		RowSourceType = 3, ;
		Style = 2, ;
		TabIndex = 4, ;
		Top = 22, ;
		Width = 180, ;
		ZOrderSet = 22
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="combobox" />

	ADD OBJECT 'Pageframe1.Page1.Ts3dshape1' AS ts3dshape WITH ;
		Height = 72, ;
		Left = 11, ;
		Name = "Ts3dshape1", ;
		Top = 10, ;
		Width = 540, ;
		ZOrderSet = 2
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="shape" />

	ADD OBJECT 'Pageframe1.Page1.Ts3dshape2' AS ts3dshape WITH ;
		Height = 72, ;
		Left = 11, ;
		Name = "Ts3dshape2", ;
		Top = 94, ;
		Width = 540, ;
		ZOrderSet = 1
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="shape" />

	ADD OBJECT 'Pageframe1.Page1.Ts3dshape3' AS ts3dshape WITH ;
		Height = 72, ;
		Left = 11, ;
		Name = "Ts3dshape3", ;
		Top = 178, ;
		Width = 540, ;
		ZOrderSet = 0
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="shape" />

	ADD OBJECT 'Pageframe1.Page1.Tslabel1' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Moneda", ;
		Height = 16, ;
		Left = 309, ;
		Name = "Tslabel1", ;
		TabIndex = 3, ;
		Top = 22, ;
		Width = 46, ;
		ZOrderSet = 21
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.Tslabel2' AS tslabel WITH ;
		AutoSize = .F., ;
		Caption = "Tipo de Valor", ;
		Height = 16, ;
		Left = 27, ;
		Name = "Tslabel2", ;
		TabIndex = 1, ;
		Top = 22, ;
		Width = 75, ;
		ZOrderSet = 23
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="label" />

	ADD OBJECT 'Pageframe1.Page1.txtConcepto' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.concepto", ;
		Height = 22, ;
		Left = 359, ;
		Name = "txtConcepto", ;
		TabIndex = 20, ;
		Top = 191, ;
		Width = 180, ;
		ZOrderSet = 15
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtFchcheque' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.fchcheque", ;
		Height = 22, ;
		Left = 107, ;
		Name = "txtFchcheque", ;
		TabIndex = 14, ;
		Top = 130, ;
		Width = 100, ;
		ZOrderSet = 7
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtFchemision' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.fchemision", ;
		Height = 22, ;
		Left = 107, ;
		mensajevalidacion = Ingrese Fecha, ;
		Name = "txtFchemision", ;
		TabIndex = 10, ;
		Top = 106, ;
		Width = 100, ;
		ZOrderSet = 5
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtIdtitular' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.idtitular", ;
		Height = 22, ;
		Left = 359, ;
		Name = "txtIdtitular", ;
		TabIndex = 12, ;
		Top = 106, ;
		Width = 180, ;
		ZOrderSet = 9
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtImporte' AS tstextbox WITH ;
		Comment = "", ;
		condicionvalidacion = !empty(vvalores.importe), ;
		ControlSource = "vvalores.importe", ;
		Height = 22, ;
		InputMask = "999,999,999,999.99", ;
		Left = 107, ;
		mensajevalidacion = Ingrese Importe, ;
		Name = "txtImporte", ;
		TabIndex = 18, ;
		Top = 191, ;
		Width = 100, ;
		ZOrderSet = 13
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtNombre' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.nombre", ;
		Height = 22, ;
		Left = 359, ;
		Name = "txtNombre", ;
		TabIndex = 16, ;
		Top = 130, ;
		Width = 180, ;
		ZOrderSet = 11
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />

	ADD OBJECT 'Pageframe1.Page1.txtNrocheque' AS tstextbox WITH ;
		Comment = "", ;
		ControlSource = "vvalores.nrocheque", ;
		Height = 22, ;
		Left = 359, ;
		Name = "txtNrocheque", ;
		TabIndex = 8, ;
		Top = 46, ;
		Width = 179, ;
		ZOrderSet = 3
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="textbox" />
	
	PROCEDURE addnew
		DODEFAULT()
		THISFORM.PAGEFRAME1.PAGE1.ESTADO.LISTINDEX = 1
		THISFORM.PAGEFRAME1.PAGE1.CBVALORES.LISTINDEX = 1
		THISFORM.PAGEFRAME1.PAGE1.MONEDA.LISTINDEX = 2
	ENDPROC

	PROCEDURE lallowedits_access
		RETURN ( .NOT. (NVL(VVALORES.IDESTADO,"")='2' .OR. NVL(VVALORES.IDESTADO,"")='5'))
	ENDPROC

	PROCEDURE validar
		If Empty(Thisform.PAGEFRAME1.PAGE1.TXTNROCHEQUE.Value) .And. Rtrim(VVALORES.IDTIPOVALOR)='2'
			Messagebox('Ingrese Nro Cheque',64, 'Futura Soft')
			Return .F.
		Endif
		If Rtrim(VVALORES.IDTIPOVALOR)='1'
			Replace VVALORES.FCHEMISION With Date()
		Endif
		If Empty(VVALORES.FCHEMISION) .And. Rtrim(VVALORES.IDTIPOVALOR)='2'
			Messagebox('Ingrese Fecha', 64, 'Futura Soft')
			Return .F.
		Endif
		If Empty(VVALORES.IDBANCO) .And. Rtrim(VVALORES.IDTIPOVALOR)='2'
			Messagebox('Ingrese Banco', 64, 'Futura Soft')
			Return .F.
		Endif
	ENDPROC

	PROCEDURE Pageframe1.Page1.Banco.Valid
		IF EMPTY(THIS.VALUE)
		MESSAGEBOX('Seleccione Banco', 0, 'Futura Software')
		ENDIF
	ENDPROC

	PROCEDURE Pageframe1.Page1.Moneda.AddItem
		LPARAMETERS CITEM
		**
		** ReFox - este procedimiento es vacío **
		**
	ENDPROC

	PROCEDURE Pageframe1.Page1.Moneda.LostFocus
		IF THIS.PARENT.CBVALORES.VALUE='1'
		THIS.PARENT.TXTIMPORTE.SETFOCUS
		ENDIF
	ENDPROC

ENDDEFINE
