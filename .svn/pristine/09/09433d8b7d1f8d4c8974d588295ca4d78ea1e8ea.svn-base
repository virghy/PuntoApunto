*--------------------------------------------------------------------------------------------------------------------------------------------------------
* (ES) AUTOGENERADO - ¡¡ATENCIÓN!! - ¡¡NO PENSADO PARA EJECUTAR!! USAR SOLAMENTE PARA INTEGRAR CAMBIOS Y ALMACENAR CON HERRAMIENTAS SCM!!
* (EN) AUTOGENERATED - ATTENTION!! - NOT INTENDED FOR EXECUTION!! USE ONLY FOR MERGING CHANGES AND STORING WITH SCM TOOLS!!
*--------------------------------------------------------------------------------------------------------------------------------------------------------
*< FOXBIN2PRG: Version="1.19" SourceFile="vt_valores.scx" /> (Solo para binarios VFP 9 / Only for VFP 9 binaries)
*
*
DEFINE CLASS dataenvironment AS dataenvironment 
 	*< CLASSDATA: Baseclass="dataenvironment" Timestamp="" Scale="" Uniqueid="" ClassIcon="1" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Cursor1" UniqueID="" Timestamp="" />

	DataSource = .NULL.
	Height = 200
	Left = 1
	Name = "Dataenvironment"
	Top = 220
	Width = 520

	ADD OBJECT 'Cursor1' AS cursor WITH ;
		Alias = "vt_valores", ;
		BufferModeOverride = 5, ;
		CursorSource = "vt_valores", ;
		Database = ..\data\datos.dbc, ;
		Height = 90, ;
		Left = 10, ;
		Name = "Cursor1", ;
		NoDataOnLoad = .T., ;
		Top = 20, ;
		Width = 91
		*< END OBJECT: BaseClass="cursor" />

ENDDEFINE

DEFINE CLASS tsbaseform12 AS tsbaseform OF "..\libs\tsbase.vcx" 
 	*< CLASSDATA: Baseclass="form" Timestamp="" Scale="" Uniqueid="" />

	*-- OBJECTDATA items order determines ZOrder / El orden de los items OBJECTDATA determina el ZOrder 
	*< OBJECTDATA: ObjPath="Valores1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Valores1.Tsfact1.COLUMN0.Text1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Valores1.Tsfact1.COLUMN0.Header1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Valores1.Tsfact1.COLUMN0.Text2" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="Ts3dshape1" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdCancel" UniqueID="" Timestamp="" />
	*< OBJECTDATA: ObjPath="cmdOk" UniqueID="" Timestamp="" />

	*<DefinedPropArrayMethod>
		*p: idfactura
		*p: importe
	*</DefinedPropArrayMethod>

	Caption = "Valores"
	DataSession = 1
	DoCreate = .T.
	editmode = .F.
	Height = 240
	idfactura = 0
	importe = 0
	lallowconsultar = .F.
	lallowdelete = .F.
	lallownew = .F.
	MaxButton = .F.
	MinButton = .F.
	Name = "Tsbaseform12"
	navegador = .F.
	tabla1 = vt_Valores
	Width = 536
	WindowType = 1
	lblRequerido.Name = "lblRequerido"

	ADD OBJECT 'cmdCancel' AS tscommandbutton WITH ;
		Cancel = .T., ;
		Caption = "Cancelar", ;
		Left = 396, ;
		Name = "cmdCancel", ;
		Top = 200
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'cmdOk' AS tscommandbutton WITH ;
		Caption = "Aceptar", ;
		Left = 300, ;
		Name = "cmdOk", ;
		Top = 200
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="commandbutton" />

	ADD OBJECT 'Ts3dshape1' AS ts3dshape WITH ;
		Height = 0, ;
		Left = 24, ;
		Name = "Ts3dshape1", ;
		Top = 190, ;
		Width = 504
		*< END OBJECT: ClassLib="..\libs\tsbase.vcx" BaseClass="shape" />

	ADD OBJECT 'Valores1' AS valores WITH ;
		BackStyle = 0, ;
		BorderWidth = 0, ;
		Height = 152, ;
		Left = 24, ;
		Name = "Valores1", ;
		SpecialEffect = 2, ;
		Top = 20, ;
		Width = 504, ;
		Tsfact1.Banco.ControlSource = "vt_valores.idbanco", ;
		Tsfact1.Banco.Header1.Name = "Header1", ;
		Tsfact1.Banco.Name = "Banco", ;
		Tsfact1.Banco.Tscombobox3.Name = "Tscombobox3", ;
		Tsfact1.campo = IdFactura,idempresa,IdMoneda, ;
		Tsfact1.COLUMN0.ControlSource = "", ;
		Tsfact1.COLUMN0.Name = "COLUMN0", ;
		Tsfact1.COLUMN0.Visible = .F., ;
		Tsfact1.Column6.Cbomoneda1.Name = "Cbomoneda1", ;
		Tsfact1.Column6.ControlSource = "vt_valores.idmoneda", ;
		Tsfact1.Column6.Header1.Name = "Header1", ;
		Tsfact1.Column6.Name = "Column6", ;
		Tsfact1.fecha.ControlSource = "vt_valores.fchcheque", ;
		Tsfact1.fecha.Header1.Name = "Header1", ;
		Tsfact1.fecha.Name = "fecha", ;
		Tsfact1.fecha.Text1.Name = "Text1", ;
		Tsfact1.Height = 110, ;
		Tsfact1.importe.ControlSource = "vt_valores.importe", ;
		Tsfact1.importe.Header1.Name = "Header1", ;
		Tsfact1.importe.Name = "importe", ;
		Tsfact1.importe.Text1.Name = "Text1", ;
		Tsfact1.Left = 0, ;
		Tsfact1.Name = "Tsfact1", ;
		Tsfact1.Nro.ControlSource = "vt_valores.nrocheque", ;
		Tsfact1.Nro.CurrentControl = "Text1", ;
		Tsfact1.Nro.Header1.Name = "Header1", ;
		Tsfact1.Nro.Name = "Nro", ;
		Tsfact1.Nro.Text1.Name = "Text1", ;
		Tsfact1.RecordSource = "vt_valores", ;
		Tsfact1.Tipo.ControlSource = "vt_valores.idtipovalor", ;
		Tsfact1.Tipo.Header1.Name = "Header1", ;
		Tsfact1.Tipo.Name = "Tipo", ;
		Tsfact1.Tipo.Tscombobox1.Name = "Tscombobox1", ;
		Tsfact1.Top = 17, ;
		Tsfact1.Width = 504, ;
		Tslabel10.Caption = "Detalle de Valores", ;
		Tslabel10.Name = "Tslabel10", ;
		Tslabel10.Width = 504, ;
		Tslabel9.Name = "Tslabel9", ;
		txtTotalValor.Name = "txtTotalValor"
		*< END OBJECT: ClassLib="..\libs\futura.vcx" BaseClass="container" />

	ADD OBJECT 'Valores1.Tsfact1.COLUMN0.Header1' AS header WITH ;
		Caption = "Header1", ;
		Name = "Header1"
		*< END OBJECT: BaseClass="header" />

	ADD OBJECT 'Valores1.Tsfact1.COLUMN0.Text1' AS textbox WITH ;
		BackColor = 255,255,255, ;
		BorderStyle = 0, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text1", ;
		SelectedBackColor = 255,255,255, ;
		SelectedForeColor = 0,0,0, ;
		Visible = .F.
		*< END OBJECT: BaseClass="textbox" />

	ADD OBJECT 'Valores1.Tsfact1.COLUMN0.Text2' AS textbox WITH ;
		BackColor = 255,255,255, ;
		BorderStyle = 0, ;
		ForeColor = 0,0,0, ;
		Margin = 0, ;
		Name = "Text2", ;
		SelectedBackColor = 255,255,255, ;
		SelectedForeColor = 0,0,0
		*< END OBJECT: BaseClass="textbox" />
	
	PROCEDURE Init
		LPARAMETERS NIDFACTURA, NIMPORTE, EDITMODE
		THIS.IDFACTURA = NIDFACTURA
		THIS.IMPORTE = NIMPORTE
		THISFORM.VALORES1.TSFACT1.REFRESH()
		THISFORM.EDITMODE = EDITMODE
		DODEFAULT()
	ENDPROC

	PROCEDURE validar
		**VG 24.06.11
		**Asignamos los valores IdTpvForma
		SELECT vt_valores
		SCAN
			
			SELECT cTipoValor
			SCAN FOR cTipoValor.Tip_Valor=vt_valores.IdTipoValor
				replace IdFormaTpv WITH cTipoValor.IdTpvForma IN vt_valores
			ENDSCAN
			SELECT vt_valores
		ENDSCAN
	ENDPROC

	PROCEDURE cmdCancel.Click
		THISFORM.RELEASE()
	ENDPROC

	PROCEDURE cmdOk.Click
		IF THISFORM.SAVE()
		THISFORM.RELEASE()
		ENDIF
	ENDPROC

ENDDEFINE
